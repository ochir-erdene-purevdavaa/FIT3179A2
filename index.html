<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Australian Species Maps</title>

  <link rel="stylesheet" href="styles.css">

  <!-- Vega scripts -->
  <script src="https://cdn.jsdelivr.net/npm/vega@5.20.2"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-lite@5.1.0"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-embed@6.17.0"></script>
  <script src="vega_lite.js"></script>
</head>
<body>

  <header>
    <h1>Australian Biodiversity Visualization</h1>
  </header>

  <div class="intro-section" style="max-width: 700px; margin: 0 auto 40px; padding: 20px;">
    <h2 style="margin-bottom: 10px; font-size: 1.5em;">Overview of Australian Biodiversity</h2>
    <p style="font-size: 1.07em; line-height: 1.6; margin: 0;">
      This dashboard explores the diversity of animal species across Australia's states. 
      It highlights overall species richness, functional group distribution, and relative abundance.
      You will see which states have the highest biodiversity, which groups dominate, 
      and where endangered species still require protection. The interactive maps and charts 
      allow you to explore patterns across states, functional groups, and species counts.
    </p>
  </div>

  <main>

    <!--Line Graph: Number of Species listed-->
    <div class="chart-container flex-row">
      <div class="chart-text-side">
        <strong>Number of Species Listed under the EPBC Act</strong>
        <p>Since the implementation of the EPBC Act, the number of species requiring legal protection has steadily increased. 
          Certain years show large spikes in listings, reflecting growing awareness of endangered species and better data collection. 
          This trend highlights the ongoing challenges in preserving Australia's unique biodiversity, as many species are still at risk despite decades of conservation legislation.</p>
      </div>
      <div id="lg1" class="chart-div"></div>
    </div>

    <!-- Bar Chart 2: Functional Groups -->
    <div class="chart-container flex-row-reverse">
      <div class="chart-text-side">
        <strong>Functional Group Richness by State</strong>
        <p>This stacked bar chart breaks down species by functional groups (Reptiles, Birds, Mammals, Fish, Insects, Other) in each state. 
        It highlights which groups dominate in different states and ecosystems. 
        For example, insects are overwhelmingly numerous, while mammals are more localized. 
        Birds are present in all regions but peak in Queensland and NSW.</p>
        <p>These patterns provide insight into ecological balance and guide protection efforts.</p>
      </div>
      <div id="bg2" class="chart-div"></div>
    </div>

        <!--Area Graph Growth in Number of Species-->
    <div class="chart-container flex-row">
      <div class="chart-text-side">
        <strong>Growth in Number of New Records for All Species</strong>
        <p>Over time, the cumulative number of species recorded in Australia has grown consistently. 
          This increase reflects both ongoing field surveys and improved methods of monitoring biodiversity. 
          Some years see rapid additions, often due to the discovery of rare or previously unrecorded species. 
          Tracking this growth allows scientists and policymakers to identify which ecosystems are being explored thoroughly and which may require further research and conservation attention.</p>
        </div>
      <div id="ag1" class="chart-div"></div>
    </div>
    
    <!-- Map toggle -->
    <div class = "map-wrapper">
      <div class="map-toggle">
        <input type="radio" name="mapSwitch" id="map1" value="map1" checked>
        <input type="radio" name="mapSwitch" id="map2" value="map2">
        
        <div class="toggle-slider">
          <label for="map1">Map 1</label>
          <label for="map2">Map 2</label>
        </div>
      </div>

      <!-- Map 1: Total Species Richness-->
      <div id="mapContainer1" class="map-container">
        <div class="map-section flex-row">
          <div class="map-text-side">
            <strong>Total Species Richness by State</strong>
            <p>Australia hosts a wide variety of species. This map highlights the total number of species recorded in each state. Darker regions indicate higher biodiversity. 
            States like Queensland and New South Wales host particularly rich ecosystems, while smaller territories like ACT have fewer species due to their size.</p>
            <p>Conservation focus is essential in states with rare or endangered species.</p>
          </div>
          <div id="mapc1" class="map-div"></div>
        </div>
      </div>

      <!-- Map 2: Functional Groups -->
      <div id="mapContainer2" class="map-container" style="display:none;">
        <div class="map-section flex-row">
          <div class="map-text-side">
            <strong>Functional Group Richness by State</strong>
            <p>This map shows species counts by functional groups: Reptiles, Birds, Mammals, Fish, Insects, and Other in each state. 
            It allows you to see which groups dominate particular regions. For example, insects dominate in all states by sheer numbers, while mammals are concentrated in specific habitats.</p>
            <p>By exploring this map, you can identify states with higher proportions of endangered reptiles or unique bird species.</p>
          </div>
          <div id="mapc2" class="map-div"></div>
        </div>
      </div>
    </div>
    
    <!-- Bar Chart 1: Species Richness -->
    <div class="chart-container flex-row-reverse">
      <div class="chart-text-side">
        <strong>Species Richness by State</strong>
        <p> 
        States with higher species counts, such as Queensland and NSW, indicate rich ecosystems with diverse habitats. 
        Smaller territories like ACT have fewer species due to limited land area.</p>
        <p>Understanding these numbers helps prioritize conservation resources where they are most needed.</p>
      </div>
      <div id="bg1" class="chart-div"></div>
    </div>

    <!-- Heat Map: Relative Abundance -->
    <div class="chart-container flex-row">
      <div class="chart-text-side">
        <strong>Relative Abundance of Species</strong>
        <p>This heat map visualizes species abundance across states and functional groups. 
        It highlights hotspots where biodiversity is concentrated and identifies regions where certain groups are underrepresented. 
        This helps researchers focus on conservation for endangered species and ecosystems at risk.</p>
        <p>For example, Mammals have a higher abundance index than other groups meaning they are at less risk of being endangered, while Amphibians are low in abundance showing higher risk.</p>
      </div>
      <div id="hmap1" class="chart-div"></div>
    </div>

  </main>

  <footer>
    <p>
      <strong>References:</strong>
      <a href="https://soe.dcceew.gov.au/biodiversity/environment/flora-and-fauna" target="_blank">State of the Environment</a> |
      <a href="https://www.abs.gov.au/statistics/measuring-what-matters/measuring-what-matters-themes-and-indicators/sustainable/biological-diversity" target="_blank">Australian Bureau of Statistics</a> |
      <a href="https://www.ala.org.au/" target="_blank">Atlas of Living Australia</a>
    </p>
  </footer>

  <script>
    const map1Radio = document.getElementById("map1");
    const map2Radio = document.getElementById("map2");

    const mapContainer1 = document.getElementById("mapContainer1");
    const mapContainer2 = document.getElementById("mapContainer2");

    map1Radio.addEventListener("change", () => {
      if(map1Radio.checked){
        mapContainer1.style.display = "block";
        mapContainer2.style.display = "none";
      }
    });

    map2Radio.addEventListener("change", () => {
      if(map2Radio.checked){
        mapContainer1.style.display = "none";
        mapContainer2.style.display = "block";
      }
    });
  </script>

</body>
</html>
